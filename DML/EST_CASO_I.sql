USE EST_CASO_I;

SET FOREIGN_KEY_CHECKS = 0;

DELETE FROM FORNECEDORES_PRODUTOS;
DELETE FROM FILIAIS_PRODUTOS;
DELETE FROM PEDIDOS_PRODUTOS;
DELETE FROM RECEBIMENTOS;
DELETE FROM PEDIDOS;
DELETE FROM PRODUTOS;
DELETE FROM FILIAIS;
DELETE FROM FORNECEDORES;

SET FOREIGN_KEY_CHECKS = 1;


-- tabela FORNECEDORES
INSERT INTO FORNECEDORES (FORNEC_COD, FORNEC_NOME, FORNEC_RUA, FORNEC_NUMRUA, FORNEC_BAIRRO, FORNEC_CIDADE, FORNEC_ESTADO, FORNEC_PAIS, FORNEC_CODPOSTAL, FORNEC_TELEFONE, FORNEC_CONTATO, FORNEC_EMAIL)
VALUES 
(1, 'Fornecedor A', 'Rua das Manga', 123, 'Jardim Primavera', 'Sao Paulo', 'SP', 'Brasil', '12345-678', '11999999999', 'Joao Silva', 'fornecedorA@email.com'),
(2, 'Fornecedor B', 'Avenida Brasil', 456, 'Centro', 'Rio de Janeiro', 'RJ', 'Brasil', '12345-679', '21987654321', 'Maria Oliveira', 'fornecedorB@email.com'),
(3, 'Fornecedor C', 'Rua da Liberdade', 789, 'Liberdade', 'Salvador', 'BA', 'Brasil', '12345-680', '71912345678', 'Carlos Santos', 'fornecedorC@email.com'),
(4, 'Fornecedor D', 'Bairro Fortaleza', 101, 'Barra', 'Fortaleza', 'CE', 'Brasil', '12345-681', '85987654321', 'Ana Costa', 'fornecedorD@email.com'),
(5, 'Fornecedor E', 'Rua das Palmeiras', 202, 'Copacabana', 'Rio de Janeiro', 'RJ', 'Brasil', '12345-682', '21976543210', 'Pedro Almeida', 'fornecedorE@email.com');

DELETE FROM FORNECEDORES
WHERE FORNEC_COD = 0;


UPDATE FORNECEDORES
SET FORNEC_TELEFONE = '123456789'
WHERE FORNEC_COD = 1;

UPDATE FORNECEDORES
SET FORNEC_NOME = 'Fornecedor Atualizado', FORNEC_EMAIL = 'atualizado@fornecedor.com'
WHERE FORNEC_CIDADE = 'São Paulo';



-- tabela FILIAIS
INSERT INTO FILIAIS (FILIAL_COD, FILIAL_NOME, FILIAL_RUA, FILIAL_NUMRUA, FILIAL_BAIRRO, FILIAL_CIDADE, FILIAL_ESTADO, FILIAL_PAIS, FILIAL_CODPOSTAL, FILIAL_CAPACIDADE, FILIAL_TELEFONE)
VALUES 
(1, 'Filial Central', 'Av. Paulista', 1000, 'Bela Vista', 'Sao Paulo', 'SP', 'Brasil', '01234-567', 'Capacidade total de 1000 produtos', '1133334444'),
(2, 'Filial Sul', 'Av. Brasil', 500, 'Centro', 'Curitiba', 'PR', 'Brasil', '01234-568', 'Capacidade total de 800 produtos', '4198765432'),
(3, 'Filial Norte', 'Rua Amazonas', 300, 'Industrial', 'Manaus', 'AM', 'Brasil', '01234-569', 'Capacidade total de 600 produtos', '9234567890'),
(4, 'Filial Leste', 'Av. Pres. Vargas', 200, 'Centro', 'Rio de Janeiro', 'RJ', 'Brasil', '01234-570', 'Capacidade total de 900 produtos', '2133335555'),
(5, 'Filial Oeste', 'Rua Goiás', 150, 'Centro', 'Belo Horizonte', 'MG', 'Brasil', '01234-571', 'Capacidade total de 700 produtos', '3132221111');

UPDATE FILIAIS
SET FILIAL_CAPACIDADE = 'Nova Capacidade'
WHERE FILIAL_COD = 2;

UPDATE FILIAIS
SET FILIAL_TELEFONE = '987654321'
WHERE FILIAL_CIDADE = 'Rio de Janeiro';

DELETE FROM FILIAIS
WHERE FILIAL_CIDADE = 'Uzbequistão';


-- tabela PRODUTOS
INSERT INTO PRODUTOS (PROD_COD, PROD_NOME, PROD_DESCRICAO, PROD_ESPECTEC, PROD_QUANT, PROD_PRECOUNIT, PROD_UNIDMEDIDA, PROD_ESTOQ_MIN, PROD_DATAFAB)
VALUES 
(1, 'Produto X', 'Descricao do Produto X', 'Especificacoes tecnicas', 500.000, 50.00, 'unidade', 50.000, '2024-01-01'),
(2, 'Produto Y', 'Descricao do Produto Y', 'Especificacoes tecnicas Y', 300.000, 40.00, 'kg', 30.000, '2024-02-01'),
(3, 'Produto Z', 'Descricao do Produto Z', 'Especificacoes tecnicas Z', 700.000, 60.00, 'litro', 70.000, '2024-03-01'),
(4, 'Produto W', 'Descricao do Produto W', 'Especificacoes tecnicas W', 400.000, 70.00, 'unidade', 40.000, '2024-04-01'),
(5, 'Produto V', 'Descricao do Produto V', 'Especificacoes tecnicas V', 600.000, 80.00, 'kg', 60.000, '2024-05-01');

UPDATE PRODUTOS
SET PROD_PRECOUNIT = 25.50
WHERE PROD_COD = 3;

UPDATE PRODUTOS
SET PROD_DESCRICAO = 'Descrição Atualizada', PROD_DATAFAB = '2023-01-15'
WHERE PROD_QUANT < PROD_ESTOQ_MIN;

DELETE FROM PRODUTOS
WHERE PROD_QUANT < PROD_ESTOQ_MIN;


-- tabela PEDIDOS (dependente de FORNECEDORES)
INSERT INTO PEDIDOS (PED_CODIGO, PED_DATA, PED_HORA, PED_PREVISAO, PED_STATUS, PED_FORNECEDOR)
VALUES 
(1, '2024-02-15', '10:30:00', '2024-03-01', 'PENDENTE', 1),
(2, '2024-03-01', '09:00:00', '2024-03-15', 'EM ESPERA', 2),
(3, '2024-03-10', '14:30:00', '2024-03-25', 'PENDENTE', 3),
(4, '2024-04-05', '11:00:00', '2024-04-20', 'CONCLUÍDO', 4),
(5, '2024-05-12', '15:45:00', '2024-05-30', 'PENDENTE', 5);

UPDATE PEDIDOS
SET PED_STATUS = 'CONCLUÍDO'
WHERE PED_DATA_CONCLUSAO = '2024-11-17';

UPDATE PEDIDOS
SET PED_PREVISAO = '2024-12-01'
WHERE PED_STATUS = 'PENDENTE';

DELETE FROM PEDIDOS
WHERE PED_STATUS = 'PENDENTE' AND PED_PREVISAO < '2024-11-01';


-- tabela RECEBIMENTOS (dependente de PEDIDOS)
INSERT INTO RECEBIMENTOS (RECEB_DATA, RECEB_HORA, RECEB_QUANT_PROD, RECEB_CONDICAO, RECEB_PEDIDOS, RECEB_OBSERVACOES)
VALUES 
('2024-03-01', '14:00:00', 500.000, 'Em perfeito estado', 1, 'Recebido sem atrasos.'),
('2024-03-17', '10:00:00', 300.000, 'Com avarias', 2, 'Produto com leves danos.'),
('2024-03-26', '13:00:00', 700.000, 'Em bom estado', 3, 'Recebimento dentro do prazo.'),
('2024-04-21', '11:30:00', 400.000, 'Em excelente estado', 4, 'Entrega antecipada.'),
('2024-05-31', '16:00:00', 600.000, 'Em mau estado', 5, 'Produto devolvido por danos.');

UPDATE RECEBIMENTOS
SET RECEB_QUANT_PROD = 150.75
WHERE RECEB_PEDIDOS = 1;

UPDATE RECEBIMENTOS
SET RECEB_OBSERVACOES = 'Produto recebido com atraso'
WHERE RECEB_CONDICAO = 'Danificado';

DELETE FROM RECEBIMENTOS
WHERE RECEB_PEDIDOS = 2;


-- tabela PEDIDOS_PRODUTOS (dependente de PEDIDOS e PRODUTOS)
INSERT INTO PEDIDOS_PRODUTOS (PDPR_PEDIDOS, PDPR_PRODUTOS, PDPR_QUANT, PDPR_PRECO_TOTAL)
VALUES 
(1, 1, 300.000, 15000.00),
(2, 2, 200.000, 8000.00),
(3, 3, 500.000, 30000.00),
(4, 4, 100.000, 7000.00),
(5, 5, 250.000, 20000.00);

UPDATE PEDIDOS_PRODUTOS
SET PDPR_QUANT = 10.5, PDPR_PRECO_TOTAL = 105.00
WHERE PDPR_PEDIDOS = 1 AND PDPR_PRODUTOS = 2;

UPDATE PEDIDOS_PRODUTOS
SET PDPR_QUANT = 45.0
WHERE PDPR_QUANT > 50;

DELETE FROM PEDIDOS_PRODUTOS
WHERE PDPR_PEDIDOS = 1 AND PDPR_PRODUTOS = 3;


-- tabela FILIAIS_PRODUTOS (dependente de FILIAIS e PRODUTOS)
INSERT INTO FILIAIS_PRODUTOS (FLPR_FILIAL, FLPR_PRODUTOS, FLPR_QUANT, FLPR_DATA_ATUALIZACAO)
VALUES 
(1, 1, 200.000, '2024-02-15'),
(2, 2, 300.000, '2024-03-10'),
(3, 3, 400.000, '2024-04-05'),
(4, 4, 100.000, '2024-04-25'),
(5, 5, 150.000, '2024-05-20');

UPDATE FILIAIS_PRODUTOS
SET FLPR_QUANT = 200.0
WHERE FLPR_FILIAL = 1 AND FLPR_PRODUTOS = 3;

UPDATE FILIAIS_PRODUTOS
SET FLPR_DATA_ATUALIZACAO = '2024-11-16'
WHERE FLPR_FILIAL = 2;

DELETE FROM FILIAIS_PRODUTOS
WHERE FLPR_FILIAL = 2 AND FLPR_PRODUTOS = 4;


-- tabela FORNECEDORES_PRODUTOS (dependente de FORNECEDORES e PRODUTOS)
INSERT INTO FORNECEDORES_PRODUTOS (FRPR_FORNECEDOR, FRPR_PRODUTOS, FRPR_DATA_FORNECIMENTO)
VALUES 
(1, 1, '2024-02-10'),
(2, 2, '2024-03-05'),
(3, 3, '2024-03-15'),
(4, 4, '2024-04-10'),
(5, 5, '2024-05-01');

UPDATE FORNECEDORES_PRODUTOS
SET FRPR_DATA_FORNECIMENTO = '2024-11-15'
WHERE FRPR_FORNECEDOR = 1 AND FRPR_PRODUTOS = 2;

UPDATE FORNECEDORES_PRODUTOS
SET FRPR_DATA_FORNECIMENTO = '2024-12-01'
WHERE FRPR_FORNECEDOR = 3;

DELETE FROM FORNECEDORES_PRODUTOS
WHERE FRPR_FORNECEDOR = 1 AND FRPR_PRODUTOS = 2;
