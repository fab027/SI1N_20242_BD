USE EST_CASO_II;

SET FOREIGN_KEY_CHECKS = 0;

DELETE FROM EQUIPES;
DELETE FROM RESERVAS;
DELETE FROM VOOS;
DELETE FROM FUNCIONARIOS;
DELETE FROM AERONAVES;
DELETE FROM AEROPORTOS;
DELETE FROM PASSAGEIROS;

SET FOREIGN_KEY_CHECKS = 1;

-- Tabela PASSAGEIROS
INSERT INTO PASSAGEIROS (PASS_CPF, PASS_NOME, PASS_TELEFONE, PASS_LOGRADOURO, PASS_NUMRUA, PASS_BAIRRO, PASS_CIDADE, PASS_ESTADO, PASS_PAIS, PASS_CODPOSTAL, PASS_EMAIL)
VALUES
(1, 'João Silva', 11987654321, 'Av. Paulista', 1000, 'Centro', 'São Paulo', 'SP', 'Brasil', '12345-678', 'joao.silva@email.com'),
(2, 'Maria Oliveira', 21965432198, 'Rua das Flores', 500, 'Jardim', 'Rio de Janeiro', 'RJ', 'Brasil', '23456-789', 'maria.oliveira@email.com'),
(3, 'Carlos Santos', 31987654322, 'Av. Amazonas', 300, 'Industrial', 'Belo Horizonte', 'MG', 'Brasil', '34567-890', 'carlos.santos@email.com');

UPDATE PASSAGEIROS
SET PASS_TELEFONE = 22987654321
WHERE PASS_CPF = 1;

DELETE FROM PASSAGEIROS
WHERE PASS_CODPOSTAL = '34567-892';

-- Tabela AEROPORTOS
INSERT INTO AEROPORTOS (AEROPORTO_COD, AEROPORTO_NOME, AEROPORTO_CIDADE, AEROPORTO_PAIS, AEROPORTO_LONGITUDE, AEROPORTO_LATITUDE)
VALUES
(1, 'Aeroporto Internacional de Guarulhos', 'Guarulhos', 'Brasil', -46.473056, -23.432222),
(2, 'Aeroporto Santos Dumont', 'Rio de Janeiro', 'Brasil', -43.163056, -22.910833),
(3, 'Aeroporto de Confins', 'Belo Horizonte', 'Brasil', -43.971389, -19.633611);

UPDATE AEROPORTOS
SET AEROPORTO_CIDADE = 'São Paulo'
WHERE AEROPORTO_COD = 1;

DELETE FROM AEROPORTOS
WHERE AEROPORTO_CIDADE = 'Acre';

-- Tabela AERONAVES
INSERT INTO AERONAVES (AERONAVE_PREFIXO, AERONAVE_TIPO, AERONAVE_ANOFABR, AERONAVE_CAPACIDADE, AERONAVE_FABRICANTE)
VALUES
(1, 'Boeing 737', '2018-05-01', 180, 'Boeing'),
(2, 'Airbus A320', '2020-07-15', 200, 'Airbus'),
(3, 'Embraer 190', '2017-03-10', 120, 'Embraer');

UPDATE AERONAVES
SET AERONAVE_CAPACIDADE = 150
WHERE AERONAVE_PREFIXO = 3;

DELETE FROM AERONAVES
WHERE AERONAVE_ANOFABR < '2014-01-01';

-- Tabela FUNCIONARIOS
INSERT INTO FUNCIONARIOS (FUNC_ID, FUNC_CARGO, FUNC_NOME, FUNC_DATANASC, FUNC_TELEFONE, FUNC_EMAIL)
VALUES
(1, 'Piloto', 'Ana Costa', '1985-01-01', 11912345678, 'ana.costa@email.com'),
(2, 'Comissário', 'Pedro Almeida', '1990-06-15', 21965432199, 'pedro.almeida@email.com'),
(3, 'Técnico', 'Luiz Souza', '1988-12-25', 31976543210, 'luiz.souza@email.com');

UPDATE FUNCIONARIOS
SET FUNC_TELEFONE = 21987654321
WHERE FUNC_ID = 2;

DELETE FROM FUNCIONARIOS
WHERE FUNC_CARGO = 'Aeromoca';

-- Tabela VOOS
INSERT INTO VOOS (VOO_CODIGO, DATA_HORA_ORIGEM, DATA_HORA_CHEGADA, AEROPORTO_ORIGEM, AEROPORTO_DESTINO, AERONAVE_PREFIXO)
VALUES
(1, '2024-01-01 08:00:00', '2024-01-01 10:00:00', 1, 2, 1),
(2, '2024-01-02 12:00:00', '2024-01-02 14:00:00', 2, 3, 2),
(3, '2024-01-03 15:00:00', '2024-01-03 17:00:00', 1, 3, 3);

UPDATE VOOS
SET DATA_HORA_CHEGADA = '2024-01-01 11:00:00'
WHERE VOO_CODIGO = 1;

DELETE FROM VOOS
WHERE AEROPORTO_DESTINO = 0;

-- Tabela EQUIPES
INSERT INTO EQUIPES (FUNC_ID, CODIGO_VOO)
VALUES
(1, 1),
(2, 1),
(3, 2);

DELETE FROM EQUIPES
WHERE FUNC_ID = 3;

-- Tabela RESERVAS
INSERT INTO RESERVAS (PASS_CPF, CODIGO_DO_VOO)
VALUES
(1, 1),
(2, 1),
(3, 2);

UPDATE RESERVAS
SET PASS_CPF = 2
WHERE CODIGO_DO_VOO = 1 AND PASS_CPF = 1;

DELETE FROM RESERVAS
WHERE PASS_CPF = 3 AND CODIGO_DO_VOO = 2;
